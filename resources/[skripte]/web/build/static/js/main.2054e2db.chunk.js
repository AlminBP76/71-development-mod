(this.webpackJsonpox_inventory=this.webpackJsonpox_inventory||[]).push([[0],{77:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var i,a=n(0),o=n.n(a),r=n(14),c=n.n(r),s=n(31),l=n(91),u=n(55),d=n(16),m=n(8),b=n(5);!function(t){t.PLAYER="player",t.SHOP="shop",t.CONTAINER="container"}(i||(i={}));var v=n(50),j=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==t.name&&void 0!==t.weight||e&&void 0!==t.name&&void 0!==t.count&&void 0!==t.weight},f=function(t,e,n){return{sourceInventory:e===i.PLAYER?t.leftInventory:t.rightInventory,targetInventory:n?n===i.PLAYER?t.leftInventory:t.rightInventory:e===i.PLAYER?t.rightInventory:t.leftInventory}},y=function(t,e){if(void 0!==(null===t||void 0===t?void 0:t.durability)){var n=t.durability;return n>100&&t.degrade&&(n=(t.durability-e)/(60*t.degrade)*100),n<0&&(n=0),n}},h=Object(d.c)({name:"inventory",initialState:{leftInventory:{id:"",type:"",slots:0,maxWeight:0,items:[]},rightInventory:{id:"",type:"",slots:0,maxWeight:0,items:[]},itemAmount:0,shiftPressed:!1,isBusy:!1},reducers:{stackSlots:function(t,e){var n=e.payload,a=n.fromSlot,o=n.fromType,r=n.toSlot,c=n.toType,s=n.count,l=f(t,o,c),u=l.sourceInventory,d=l.targetInventory,m=a.weight/a.count;d.items[r.slot-1]=Object(b.a)(Object(b.a)({},d.items[r.slot-1]),{},{count:r.count+s,weight:m*(r.count+s)}),o!==i.SHOP&&(u.items[a.slot-1]=a.count-s>0?Object(b.a)(Object(b.a)({},u.items[a.slot-1]),{},{count:a.count-s,weight:m*(a.count-s)}):{slot:a.slot})},swapSlots:function(t,e){var n=e.payload,i=n.fromSlot,a=n.fromType,o=n.toSlot,r=n.toType,c=f(t,a,r),s=c.sourceInventory,l=c.targetInventory,u=Math.floor(Date.now()/1e3),d=[Object(b.a)(Object(b.a)({},l.items[o.slot-1]),{},{slot:i.slot,durability:y(o.metadata,u)}),Object(b.a)(Object(b.a)({},s.items[i.slot-1]),{},{slot:o.slot,durability:y(i.metadata,u)})];s.items[i.slot-1]=d[0],l.items[o.slot-1]=d[1]},setupInventory:function(t,e){var n=e.payload,i=n.leftInventory,a=n.rightInventory,o=Math.floor(Date.now()/1e3);i&&(t.leftInventory=Object(b.a)(Object(b.a)({},i),{},{items:Array.from(Array(i.slots),(function(t,e){var n=Object.values(i.items).find((function(t){return(null===t||void 0===t?void 0:t.slot)===e+1}))||{slot:e+1};return n.durability=y(n.metadata,o),n}))})),a&&(t.rightInventory=Object(b.a)(Object(b.a)({},a),{},{items:Array.from(Array(a.slots),(function(t,e){var n=Object.values(a.items).find((function(t){return(null===t||void 0===t?void 0:t.slot)===e+1}))||{slot:e+1};return n.durability=y(n.metadata,o),n}))})),"admin"===(null===a||void 0===a?void 0:a.type)?t.isBusy=!0:t.isBusy=!1},moveSlots:function(t,e){var n=e.payload,a=n.fromSlot,o=n.fromType,r=n.toSlot,c=n.toType,s=n.count,l=f(t,o,c),u=l.sourceInventory,d=l.targetInventory,m=a.weight/a.count,v=Math.floor(Date.now()/1e3),j=u.items[a.slot-1];d.items[r.slot-1]=Object(b.a)(Object(b.a)({},j),{},{count:s,weight:m*s,slot:r.slot,durability:y(j.metadata,v)}),o!==i.SHOP&&(u.items[a.slot-1]=a.count-s>0?Object(b.a)(Object(b.a)({},u.items[a.slot-1]),{},{count:a.count-s,weight:m*(a.count-s)}):{slot:a.slot})},refreshSlots:function(t,e){Array.isArray(e.payload)||(e.payload=[e.payload]);var n=Math.floor(Date.now()/1e3);Object.values(e.payload).filter((function(t){return!!t})).forEach((function(e){var a=e.inventory&&e.inventory!==i.PLAYER?t.rightInventory:t.leftInventory;e.item.durability=y(e.item.metadata,n),a.items[e.item.slot-1]=e.item}))},setItemAmount:function(t,e){t.itemAmount=e.payload},setShiftPressed:function(t,e){t.shiftPressed=e.payload},setContainerWeight:function(t,e){var n=t.leftInventory.items.find((function(e){var n;return(null===(n=e.metadata)||void 0===n?void 0:n.container)===t.rightInventory.id}));n&&(n.weight=e.payload)}},extraReducers:function(t){t.addMatcher(d.e,(function(t){t.isBusy=!0,t.history={leftInventory:Object(m.a)(t.leftInventory),rightInventory:Object(m.a)(t.rightInventory)}})),t.addMatcher(d.d,(function(t){t.isBusy=!1})),t.addMatcher(d.f,(function(t){t.history&&t.history.leftInventory&&t.history.rightInventory&&(t.leftInventory=t.history.leftInventory,t.rightInventory=t.history.rightInventory),t.isBusy=!1}))}}),p=h.actions,O=p.setItemAmount,g=p.setShiftPressed,x=p.setupInventory,w=p.swapSlots,I=p.moveSlots,S=p.stackSlots,k=p.refreshSlots,N=p.setContainerWeight,C=function(t){return t.inventory.leftInventory},E=function(t){return t.inventory.rightInventory},A=function(t){return t.inventory.itemAmount},L=function(t){return t.inventory.isBusy},_=h.reducer,T=Object(d.a)({reducer:{inventory:_}}),R=function(){return Object(s.b)()},D=s.c,F=n(6),M=function(){return!window.invokeNative},P=function(){},B=function(t,e){var n=Object(a.useRef)(P);Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){var e=function(e){var i=e.data,a=i.action,o=i.data;n.current&&a===t&&n.current(o)};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[t])},V=B,W=n(89),H=n(1),Y=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},G=function(t,e){var n=t.getClientOffset();if(null===n)return null;if(!e.current||!e.current.getBoundingClientRect)return Y(n,function(t){var e=t.getInitialClientOffset(),n=t.getInitialSourceClientOffset();return null===e||null===n||void 0===e.x||void 0===e.y?{x:0,y:0}:Y(e,n)}(t));var i=e.current.getBoundingClientRect(),a={x:i.width/2,y:i.height/2};return Y(n,a)},J=function(){var t=Object(a.useRef)(null),e=Object(W.a)((function(e){return{data:e.getItem(),currentOffset:G(e,t),isDragging:e.isDragging()}})),n=e.data,i=e.isDragging,o=e.currentOffset;return Object(H.jsx)(H.Fragment,{children:i&&o&&n.item&&Object(H.jsx)("div",{ref:t,className:"drag",style:{transform:"translate(".concat(o.x,"px, ").concat(o.y,"px)"),backgroundImage:"url(".concat("/web/build"+"/images/".concat(n.image||n.item.name,".png"),")")}})})},U=n(32),z=function(t){Object(U.b)(t.text,{duration:t.duration||4e3,position:t.position||"top-center",style:{backgroundColor:void 0===t.type?"rgb(52, 152, 219)":"success"===t.type?"rgb(39, 174, 96)":"rgb(231, 76, 60)"}})},K=function(){return B("showNotif",(function(t){z(t)})),Object(H.jsx)(U.a,{toastOptions:{style:{padding:0,borderRadius:"5px",color:"white"}}})},q=(n(68),n(24)),$=n(17),Q=n.n($),X=window.GetParentResourceName?window.GetParentResourceName():"ox_inventory";function Z(t,e){return tt.apply(this,arguments)}function tt(){return(tt=Object(q.a)(Q.a.mark((function t(e,n){var i,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!M()){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.prev=2,t.next=5,fetch("https://".concat(X,"/").concat(e),{method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});case 5:return i=t.sent,t.next=8,i.json();case 8:return a=t.sent,t.abrupt("return",a);case 12:throw t.prev=12,t.t0=t.catch(2),Error("Failed to fetch NUI callback ".concat(e,"! (").concat(t.t0,")"));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))).apply(this,arguments)}var et=function(){var t=Object(a.useState)(0),e=Object(F.a)(t,2),n=e[0],i=e[1],o=Object(a.useState)(!1),r=Object(F.a)(o,2),c=r[0],s=r[1],l=Object(a.useState)(!1),u=Object(F.a)(l,2),d=u[0],m=u[1],b=Object(a.useState)(""),v=Object(F.a)(b,2),j=v[0],f=v[1];return V("startProgress",(function(t){f(t.text),i(t.duration),s(!0),m(!1)})),V("cancelProgress",(function(){m(!0),setTimeout((function(){return s(!1)}),1750)})),Object(H.jsx)(H.Fragment,{children:c&&Object(H.jsx)("div",{className:"progressBar",children:Object(H.jsx)("div",{className:d?"progressBar-cancel":"progressBar-value",style:{animationDuration:"".concat(n,"ms")},onAnimationEnd:function(){s(!1),Z("progressComplete")},children:Object(H.jsx)("span",{children:j})})})})},nt=["Escape"],it=function(t){var e=Object(a.useRef)(P);Object(a.useEffect)((function(){e.current=t}),[t]),Object(a.useEffect)((function(){var t=function(t){nt.includes(t.code)&&(e.current(!1),Z("exit"))};return window.addEventListener("keyup",t),function(){return window.removeEventListener("keyup",t)}}),[])},at=function(){var t=Object(a.useState)(!1),e=Object(F.a)(t,2),n=e[0],i=e[1],o=Object(a.useState)(""),r=Object(F.a)(o,2),c=r[0],s=r[1],l=Object(a.useState)([]),u=Object(F.a)(l,2),d=u[0],m=u[1],b=Object(a.useState)([]),v=Object(F.a)(b,2),j=v[0],f=v[1];V("openInput",(function(t){i(!0),s(t.header),m([]),f([]),m(t.rows)})),it((function(){i(!1),Z("inputData")}));var y=function(t){t.preventDefault(),i(!1),Z("inputData",0===j.length?null:j)};return Object(H.jsxs)("div",{style:{visibility:n?"visible":"hidden"},className:"keyboard-container",children:[Object(H.jsx)("p",{className:"keyboard-header",children:c}),d.length>0&&d.map((function(t,e){return Object(H.jsxs)("form",{onSubmit:function(t){return y(t)},className:"keyboard-component",children:[Object(H.jsx)("p",{children:t}),Object(H.jsx)("input",{type:"text",defaultValue:"",onChange:function(t){return function(t,e){f((function(n){return n[e]=t.target.value,n}))}(t,e)}})]},"".concat(t+e))})),Object(H.jsx)("div",{className:"keyboard-buttons-div",children:Object(H.jsx)("button",{onClick:y,children:"Submit"})})]})},ot=function(t){var e=o.a.useState(!1),n=Object(F.a)(e,2),i=n[0],a=n[1],r=o.a.useCallback((function(e){e.key===t&&a(!0)}),[t]),c=o.a.useCallback((function(e){e.key===t&&a(!1)}),[t]);return o.a.useEffect((function(){return window.addEventListener("keydown",r),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",r),window.removeEventListener("keyup",c)}}),[r,c]),i},rt={water:{close:!1,label:"VODA",stack:!0,usable:!0},burger:{close:!1,label:"BURGR",stack:!1,usable:!1}},ct=n(92),st=function(t,e,n){return t*n+e*(1-n)},lt=function(t,e,n){var i=st(t[0],e[0],n),a=st(t[1],e[1],n),o=st(t[2],e[2],n);return"rgb(".concat(i,", ").concat(a,", ").concat(o,")")},ut=[231,76,60],dt=[39,174,96],mt=[211,84,0],bt=function(t){var e=t.percent,n=t.durability,i=o.a.useMemo((function(){return n?e<50?lt(mt,ut,e/100):lt(dt,mt,e/100):e>50?lt(ut,mt,e/100):lt(mt,dt,e/50)}),[n,e]);return Object(H.jsx)("div",{className:n?"item-durability":"weight-bar",children:Object(H.jsx)("div",{style:{visibility:e>0?"visible":"hidden",width:"".concat(e,"%"),backgroundColor:i,transition:"background ".concat(.3,"s ease, width ",.3,"s ease")}})})},vt=n(93),jt=n(94),ft=Object(d.b)("inventory/validateMove",function(){var t=Object(q.a)(Q.a.mark((function t(e,n){var i,a,o;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.rejectWithValue,a=n.dispatch,t.prev=1,t.next=4,Z("swapItems",e);case 4:if(!1!==(o=t.sent)){t.next=7;break}return t.abrupt("return",i(o));case 7:"number"===typeof o&&a(N(o)),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",i(!1));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()),yt=function(t,e){var n,a,o=T.getState().inventory,r=f(o,t.inventory,null===e||void 0===e?void 0:e.inventory),c=r.sourceInventory,s=r.targetInventory,l=c.items[t.item.slot-1],u=rt[l.name];if(void 0===u)return console.error("".concat(l.name," item data undefined!"));if(void 0!==(null===(n=l.metadata)||void 0===n?void 0:n.container)){if(s.type===i.CONTAINER)return console.log("Cannot store container ".concat(l.name," inside another container"));if(o.rightInventory.id===l.metadata.container)return console.log("Cannot move container ".concat(l.name," when opened"))}var d=e?s.items[e.item.slot-1]:function(t,e,n){return e.stack&&n.find((function(e){return e.name===t.name&&e.metadata===t.metadata}))||n.find((function(t){return void 0===t.name}))}(l,u,s.items);if(void 0===d)return console.error("Target slot undefined!");if(void 0!==(null===(a=d.metadata)||void 0===a?void 0:a.container)&&o.rightInventory.id===d.metadata.container)return console.log("Cannot swap item ".concat(l.name," with container ").concat(d.name," when opened"));var m=o.shiftPressed&&l.count>1&&"shop"!==c.type?Math.floor(l.count/2):0===o.itemAmount||o.itemAmount>l.count?l.count:o.itemAmount,y={fromSlot:l,toSlot:d,fromType:c.type,toType:s.type,count:m};T.dispatch(ft(Object(b.a)(Object(b.a)({},y),{},{fromSlot:l.slot,toSlot:d.slot}))),j(d,!0)?u.stack&&function(t,e){return t.name===e.name&&Object(v.isEqual)(t.metadata,e.metadata)}(l,d)?T.dispatch(S(Object(b.a)(Object(b.a)({},y),{},{toSlot:d}))):T.dispatch(w(Object(b.a)(Object(b.a)({},y),{},{toSlot:d}))):T.dispatch(I(y))},ht=Object(d.b)("inventory/buyItem",function(){var t=Object(q.a)(Q.a.mark((function t(e,n){var i,a;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.rejectWithValue,t.prev=1,t.next=4,Z("buyItem",e);case 4:if(!1!==(a=t.sent)){t.next=7;break}return t.abrupt("return",i(a));case 7:t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",i(!1));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),pt=n(13),Ot=function(t){Z("useItem",t.slot)},gt=n(21),xt={},wt=function(t){var e,n,a,r=t.inventory,c=t.item,s=t.setCurrentItem,l=D(L),u=Object(vt.a)((function(){return{type:"SLOT",collect:function(t){return{isDragging:t.isDragging()}},item:function(){var t;return j(c,r.type!==i.SHOP)?{inventory:r.type,item:{name:c.name,slot:c.slot},image:null===(t=c.metadata)||void 0===t?void 0:t.image}:null},canDrag:!l}}),[l,r,c]),d=Object(F.a)(u,2),m=d[0].isDragging,v=d[1],f=Object(jt.a)((function(){return{accept:"SLOT",collect:function(t){return{isOver:t.isOver()}},drop:function(t){return t.inventory===i.SHOP?function(t,e){var n=T.getState().inventory,i=n.rightInventory,a=n.leftInventory,o=i.items[t.item.slot-1];if(!j(o))throw new Error("Item ".concat(o.slot," name === undefined"));if(0!==o.count){if(void 0===rt[o.name])return console.error("Item ".concat(o.name," data undefined!"));var r=a.items[e.item.slot-1];if(void 0===r)return console.error("Target slot undefined");var c=0!==n.itemAmount?o.count&&n.itemAmount>o.count?o.count:n.itemAmount:1,s={fromSlot:o,toSlot:r,fromType:i.type,toType:a.type,count:c};T.dispatch(ht(Object(b.a)(Object(b.a)({},s),{},{fromSlot:o.slot,toSlot:r.slot})))}else U.b.error("Out of stock")}(t,{inventory:r.type,item:{slot:c.slot}}):yt(t,{inventory:r.type,item:{slot:c.slot}})},canDrop:function(t){return!l&&(t.item.slot!==c.slot||t.inventory!==r.type)&&r.type!==i.SHOP}}}),[l,r,c]),y=Object(F.a)(f,2),h=y[0].isOver,p=y[1],O=o.a.useCallback((function(){return j(c)&&s(c)}),[c,s]),g=o.a.useCallback((function(){return j(c)&&s(void 0)}),[c,s]),x=Object(pt.e)({id:"slot-context-".concat(c.slot,"-").concat(c.name)}),w=x.show,I=x.hideAll;o.a.useEffect((function(){I()}),[m]);return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("div",{ref:function(t){return v(p(t))},onContextMenu:function(t){!l&&"player"===r.type&&j(c)&&w(t),s(void 0),gt.a.hide()},onClick:function(t){l||(t.ctrlKey&&j(c)&&"shop"!==r.type?(yt({item:c,inventory:r.type}),s(void 0)):t.altKey&&j(c)&&"player"===r.type&&(Ot(c),s(void 0)))},className:"item-container","data-tip":!0,"data-for":"item-tooltip",style:{opacity:m?.4:1,backgroundImage:null!==(e=c.metadata)&&void 0!==e&&e.image?"url(".concat("/web/build"+"/images/".concat(c.metadata.image,".png"),")"):c.name?"url(".concat("/web/build"+"/images/".concat(c.name,".png"),")"):"none",border:h?"1px dashed rgba(255,255,255,0.4)":"1px inset rgba(0,0,0,0.3)"},onMouseEnter:O,onMouseLeave:g,children:j(c)&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{className:"item-count",children:Object(H.jsxs)("span",{children:[c.weight>0?c.weight>=1e3?"".concat((c.weight/1e3).toLocaleString("en-us",{minimumFractionDigits:2}),"kg "):"".concat(c.weight.toLocaleString("en-us",{minimumFractionDigits:0}),"g "):"",c.count?c.count.toLocaleString("en-us")+"x":""]})}),"shop"!==r.type&&void 0!==(null===c||void 0===c?void 0:c.durability)&&Object(H.jsx)(bt,{percent:c.durability,durability:!0}),"shop"===r.type&&void 0!==(null===c||void 0===c?void 0:c.price)&&Object(H.jsx)(H.Fragment,{children:"money"!==(null===c||void 0===c?void 0:c.currency)&&"black_money"!==(null===c||void 0===c?void 0:c.currency)&&c.price>0&&null!==c&&void 0!==c&&c.currency?Object(H.jsxs)("div",{className:"item-price",style:{color:"#2ECC71"},children:[Object(H.jsx)("img",{className:"item-currency",src:null!==c&&void 0!==c&&c.currency?"".concat("/web/build"+"/images/".concat(null===c||void 0===c?void 0:c.currency,".png")):"",alt:"item"}),c.price]}):Object(H.jsx)(H.Fragment,{children:c.price>0&&Object(H.jsxs)("div",{className:"item-price",style:{color:"money"!==c.currency&&c.currency?"#E74C3C":"#2ECC71"},children:[xt.$,c.price]})})}),Object(H.jsx)("div",{className:"item-label",children:null!==(n=c.metadata)&&void 0!==n&&n.label?c.metadata.label:(null===(a=rt[c.name])||void 0===a?void 0:a.label)||c.name})]})})})},It=function(t){var e=T.getState().inventory.itemAmount;Z("giveItem",{slot:t.slot,count:e})},St=(n(72),function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}),kt=function(t){var e,n,i,a,o,r,c,s=function(e){var n=e.data;switch(n&&n.action){case"use":Ot({name:t.item.name,slot:t.item.slot});break;case"give":It({name:t.item.name,slot:t.item.slot});break;case"drop":j(t.item)&&yt({item:t.item,inventory:"player"});break;case"remove":Z("removeComponent",{component:null===n||void 0===n?void 0:n.component,slot:null===n||void 0===n?void 0:n.slot});break;case"copy":(null===n||void 0===n?void 0:n.serial)&&St(n.serial);break;case"custom":Z("useButton",{id:((null===n||void 0===n?void 0:n.id)||0)+1,slot:t.item.slot})}};return Object(H.jsx)(H.Fragment,{children:j(t.item)&&Object(H.jsxs)(pt.b,{id:"slot-context-".concat(t.item.slot,"-").concat(t.item.name),theme:"dark",animation:"fade",onShown:function(){t.setContextVisible(!0)},onHidden:function(){t.setContextVisible(!1)},children:[Object(H.jsx)(pt.a,{onClick:s,data:{action:"use"},children:xt.ui_use}),Object(H.jsx)(pt.a,{onClick:s,data:{action:"give"},children:xt.ui_give}),Object(H.jsx)(pt.a,{onClick:s,data:{action:"drop"},children:xt.ui_drop}),(null===(e=t.item.metadata)||void 0===e?void 0:e.serial)&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(pt.c,{}),Object(H.jsx)(pt.a,{onClick:s,data:{action:"copy",serial:t.item.metadata.serial},children:xt.ui_copy}),(null===(n=t.item.metadata)||void 0===n||null===(i=n.components)||void 0===i?void 0:i.length)>0&&Object(H.jsx)(pt.d,{label:xt.ui_removeattachments,children:t.item.metadata.components.map((function(e,n){var i;return Object(H.jsx)(pt.a,{onClick:s,data:{action:"remove",component:e,slot:t.item.slot},children:null===(i=rt[e])||void 0===i?void 0:i.label},n)}))})]}),((null===(a=rt[t.item.name])||void 0===a||null===(o=a.buttons)||void 0===o?void 0:o.length)||0)>0&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(pt.c,{}),null===(r=rt[t.item.name])||void 0===r||null===(c=r.buttons)||void 0===c?void 0:c.map((function(t,e){return Object(H.jsx)(pt.a,{onClick:s,data:{action:"custom",id:e},children:t},e)}))]})]})})},Nt=function(t){var e,n,i,c,s,l,u,d,m,v,f,y,h,p=t.inventory,O=o.a.useState(),g=Object(F.a)(O,2),x=g[0],w=g[1],I=o.a.useState(!1),S=Object(F.a)(I,2),k=S[0],N=S[1],C=o.a.useState({}),E=Object(F.a)(C,2),A=E[0],L=E[1],_=ot("Control"),T=ot("c"),R=o.a.useMemo((function(){return void 0!==p.maxWeight?p.items.reduce((function(t,e){return j(e)?t+e.weight:t}),0):0}),[p.maxWeight,p.items]);return Object(a.useEffect)((function(){gt.a.rebuild()}),[x]),Object(a.useEffect)((function(){w(void 0)}),[k]),Object(a.useEffect)((function(){var t;x&&_&&T&&(null===x||void 0===x||null===(t=x.metadata)||void 0===t?void 0:t.serial)&&St(x.metadata.serial)}),[_,T]),V("setupInventory",(function(){w(void 0),gt.a.rebuild()})),V("displayMetadata",(function(t){return L((function(e){return Object(b.a)(Object(b.a)({},e),t)}))})),Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("div",{className:"column-wrapper",children:[Object(H.jsxs)("div",{className:"inventory-label",children:[Object(H.jsx)("p",{children:p.label&&"".concat(p.label)}),p.maxWeight&&Object(H.jsxs)("div",{children:[R/1e3,"/",p.maxWeight/1e3,"kg"]})]}),Object(H.jsx)(bt,{percent:p.maxWeight?R/p.maxWeight*100:0}),Object(H.jsx)("div",{className:"inventory-grid inventory-grid-".concat(p.type),children:p.items.map((function(t){return Object(H.jsxs)(o.a.Fragment,{children:[Object(H.jsx)(wt,{item:t,inventory:p,setCurrentItem:w},"".concat(p.type,"-").concat(p.id,"-").concat(t.slot)),Object(r.createPortal)(Object(H.jsx)(kt,{item:t,setContextVisible:N},"context-".concat(t.slot)),document.body)]},"grid-".concat(p.id,"-").concat(t.slot))}))}),x&&!1===k&&Object(H.jsx)(gt.a,{id:"item-tooltip",className:"item-info",arrowColor:"transparent",place:"right",delayShow:300,children:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("span",{style:{fontSize:"1em"},children:null!==(e=x.metadata)&&void 0!==e&&e.label?x.metadata.label:(null===(n=rt[x.name])||void 0===n?void 0:n.label)||x.name}),Object(H.jsx)("span",{style:{fontSize:"1em",float:"right"},children:null===(i=x.metadata)||void 0===i?void 0:i.type}),Object(H.jsx)("hr",{style:{borderBottom:"0.3em",marginBottom:"0.3em"}}),((null===(c=x.metadata)||void 0===c?void 0:c.description)||(null===(s=rt[x.name])||void 0===s?void 0:s.description))&&Object(H.jsx)(ct.a,{children:(null===(l=x.metadata)||void 0===l?void 0:l.description)||(null===(u=rt[x.name])||void 0===u?void 0:u.description)}),void 0!==(null===x||void 0===x?void 0:x.durability)&&Object(H.jsxs)("p",{children:[xt.ui_durability,": ",Math.trunc(x.durability)]}),void 0!==(null===(d=x.metadata)||void 0===d?void 0:d.ammo)&&Object(H.jsxs)("p",{children:[xt.ui_ammo,": ",x.metadata.ammo]}),(null===(m=x.metadata)||void 0===m?void 0:m.serial)&&Object(H.jsxs)("p",{children:[xt.ui_serial,": ",x.metadata.serial]}),(null===(v=x.metadata)||void 0===v?void 0:v.components)&&(null===(f=x.metadata)||void 0===f?void 0:f.components[0])&&Object(H.jsxs)("p",{children:[xt.ui_components,":"," ",(null===(y=x.metadata)||void 0===y?void 0:y.components).map((function(t,e,n){var i,a;return e+1===n.length?null===(i=rt[t])||void 0===i?void 0:i.label:(null===(a=rt[t])||void 0===a?void 0:a.label)+", "}))]}),(null===(h=x.metadata)||void 0===h?void 0:h.weapontint)&&Object(H.jsxs)("p",{children:[xt.ui_tint,": ",x.metadata.weapontint]}),Object.keys(A).map((function(t,e){return Object(H.jsx)(o.a.Fragment,{children:x.metadata&&x.metadata[t]&&Object(H.jsxs)("p",{children:[A[t],": ",x.metadata[t]]})},"metadata-".concat(e))}))]})})]})})},Ct=n(48),Et=n(47),At=function(t){return Object(H.jsx)("div",{style:{opacity:t.visible?1:0,transition:"opacity ".concat(t.duration||.2,"s ease-out")},className:t.className,children:t.children})},Lt=function(t){var e=t.infoVisible,n=t.setInfoVisible;return Object(H.jsxs)("div",{className:"info-main",style:{visibility:e?"visible":"hidden"},children:[Object(H.jsx)(Et.a,{icon:Ct.b,onClick:function(){return n(!1)},className:"info-exit-icon"}),Object(H.jsx)("h2",{children:xt.ui_usefulcontrols}),Object(H.jsxs)("p",{children:["[RMB] - ",xt.ui_rmb]}),Object(H.jsxs)("p",{children:["[CTRL + LMB] - ",xt.ui_ctrl_lmb]}),Object(H.jsxs)("p",{children:["[SHIFT + Drag] - ",xt.ui_shift_drag]}),Object(H.jsxs)("p",{children:["[CTRL + SHIFT + LMB] - ",xt.ui_ctrl_shift_lmb]}),Object(H.jsxs)("p",{children:["[ALT + LMB] - ",xt.ui_alt_lmb]}),Object(H.jsxs)("p",{children:["[CTRL + C] - ",xt.ui_ctrl_c]}),Object(H.jsx)("span",{className:"info-ox",onClick:function(){return z({text:"Made with \ud83d\udc02 by the Overextended team"})},children:"\ud83d\udc02"})]})},_t=function(){var t=D(A),e=R(),n=Object(a.useState)(!1),i=Object(F.a)(n,2),o=i[0],r=i[1],c=Object(jt.a)((function(){return{accept:"SLOT",drop:function(t){"player"===t.inventory&&Ot(t.item)}}})),s=Object(F.a)(c,2)[1],l=Object(jt.a)((function(){return{accept:"SLOT",drop:function(t){"player"===t.inventory&&It(t.item)}}})),u=Object(F.a)(l,2)[1];return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(At,{visible:o,duration:.25,className:"info-fade",children:Object(H.jsx)(Lt,{infoVisible:o,setInfoVisible:r})}),Object(H.jsxs)("div",{className:"column-wrapper",style:{margin:"1vh"},children:[Object(H.jsx)("input",{type:"number",className:"button input",min:0,defaultValue:t,onChange:function(t){(t.target.valueAsNumber%1!==0||isNaN(t.target.valueAsNumber)||t.target.valueAsNumber<0)&&(t.target.valueAsNumber=0),e(O(t.target.valueAsNumber))}}),Object(H.jsx)("button",{ref:s,className:"button",children:xt.ui_use}),Object(H.jsx)("button",{ref:u,className:"button",children:xt.ui_give}),Object(H.jsx)("button",{className:"button",onClick:function(){return Z("exit")},children:xt.ui_close}),Object(H.jsx)("div",{className:"misc-btns",children:Object(H.jsx)("button",{onClick:function(){return r(!0)},children:Object(H.jsx)(Et.a,{icon:Ct.a})})})]})]})},Tt=function(t){var e=t.items,n=Object(a.useState)(!1),i=Object(F.a)(n,2),o=i[0],r=i[1],c=Object(a.useState)(),s=Object(F.a)(c,2),l=s[0],u=s[1];return V("toggleHotbar",(function(){o?r(!1):(l&&clearTimeout(l),r(!0),u(setTimeout((function(){return r(!1)}),3e3)))})),Object(H.jsx)("div",{className:"center-wrapper",children:Object(H.jsx)(At,{visible:o,className:"hotbar-grid",children:e.map((function(t){var e,n,i,a;return Object(H.jsx)("div",{className:"item-container",style:{backgroundImage:null!==(e=t.metadata)&&void 0!==e&&e.image?"url(".concat("/web/build"+"/images/".concat(t.metadata.image,".png"),")"):t.name?"url(".concat("/web/build"+"/images/".concat(t.name,".png"),")"):"none"},children:j(t)&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{className:"item-count",children:Object(H.jsxs)("span",{children:[t.weight>0?t.weight>=1e3?"".concat((t.weight/1e3).toLocaleString("en-us",{minimumFractionDigits:2}),"kg "):"".concat(t.weight.toLocaleString("en-us",{minimumFractionDigits:0}),"g "):"",null===(n=t.count)||void 0===n?void 0:n.toLocaleString("en-us"),"x"]})}),void 0!==(null===t||void 0===t?void 0:t.durability)&&Object(H.jsx)(bt,{percent:t.durability,durability:!0}),Object(H.jsx)("div",{className:"item-label",children:null!==(i=t.metadata)&&void 0!==i&&i.label?t.metadata.label:(null===(a=rt[t.name])||void 0===a?void 0:a.label)||t.name})]})},"hotbar-".concat(t.slot))}))})})},Rt=function(){var t=o.a.useState(!1),e=Object(F.a)(t,2),n=e[0],i=e[1];V("setInventoryVisible",i),V("closeInventory",(function(){i(!1),gt.a.hide()})),it(i);var a=D(C),r=D(E),c=R();return V("setupInventory",(function(t){c(x(t)),!n&&i(!0)})),V("refreshSlots",(function(t){return c(k(t))})),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(At,{visible:n,className:"center-wrapper",children:[Object(H.jsx)(Nt,{inventory:a}),Object(H.jsx)(_t,{}),Object(H.jsx)(Nt,{inventory:r})]}),Object(H.jsx)(Tt,{items:a.items.slice(0,5)})]})},Dt=n(9),Ft=function(){var t=ot("Shift"),e=R();Z("uiLoaded",{}),V("init",(function(t){for(var n=t.locale,i=t.items,a=t.leftInventory,o=0,r=Object.entries(n);o<r.length;o++){var c=Object(F.a)(r[o],2),s=c[0],l=c[1];xt[s]=l}for(var u=0,d=Object.entries(i);u<d.length;u++){var m=Object(F.a)(d[u],2),b=m[0],v=m[1];rt[b]=v}e(x({leftInventory:a}))})),o.a.useEffect((function(){e(g(t))}),[t,e]);var n=Object(Dt.a)();return V("closeInventory",(function(){n.dispatch({type:"dnd-core/END_DRAG"})})),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(at,{}),Object(H.jsx)(J,{}),Object(H.jsx)(K,{}),Object(H.jsx)(Rt,{}),Object(H.jsx)(et,{})]})},Mt=(n(77),n(7)),Pt=n(96),Bt=n(95),Vt=o.a.createContext(null),Wt=o.a.forwardRef((function(t,e){return Object(H.jsxs)("div",{className:"item-notification",ref:e,style:{backgroundImage:"url(".concat("/web/build"+"/images/".concat(t.item.image,".png"),")")||!1},children:[Object(H.jsx)("div",{className:"item-action",children:t.item.text}),Object(H.jsx)("div",{className:"item-label",children:t.item.label})]})})),Ht=function(t){var e=t.children,n=o.a.useState([]),i=Object(F.a)(n,2),a=i[0],c=i[1],s=function(t){var e=o.a.createRef(),n={id:Date.now(),item:t,ref:e};c((function(t){return[n].concat(Object(Mt.a)(t))})),setTimeout((function(){return l(n.id)}),2500)},l=function(t){return c((function(e){return e.filter((function(e){return e.id!==t}))}))};return V("itemNotify",(function(t){return s({label:t[0],image:t[1],text:t[2]})})),Object(H.jsxs)(Vt.Provider,{value:{add:s},children:[e,Object(r.createPortal)(Object(H.jsx)(Pt.a,{className:"item-notifications-container",children:a.map((function(t){return Object(H.jsx)(Bt.a,{nodeRef:t.ref,timeout:500,classNames:"item-notification",children:Object(H.jsx)(Wt,{item:t.item,ref:t.ref})},t.id)}))}),document.body)]})};c.a.render(Object(H.jsx)(o.a.StrictMode,{children:Object(H.jsx)(s.a,{store:T,children:Object(H.jsx)(l.a,{backend:u.a,options:{enableMouseEvents:!0},children:Object(H.jsx)(Ht,{children:Object(H.jsx)(Ft,{})})})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.2054e2db.chunk.js.map